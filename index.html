<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>BitcoinPSP Rotating Charts Screen</title>
    <style type="text/css">
      html{
        height: 100%;
      }
      body {
        position:absolute;
        top:0;
        bottom:0;
        right:0;
        left:0;
        margin: auto;
      }
    </style>
  </head>
  <body>
    <iframe src="https://embed.cryptowat.ch/bitstamp/btcusd/5m" id="chart" frameborder="0" allowfullscreen="true" width="100%" height="100%"></iframe>
    <script>
      const markets = [
        ['bitstamp', 'btcusd'],
        ['kraken', 'etheur'],
        ['kraken', 'ethbtc'],
        ['kraken', 'repeur'],
        ['kraken', 'repeth'],
        ['kraken', 'gnoeur'],
        ['kraken', 'gnoeth'],
      ];
      let marketIndex = 1;
      let chart;

      function nextMarket() {
        const market = markets[marketIndex];

        document.getElementById('chart').src = `https://embed.cryptowat.ch/${market[0]}/${market[1]}/5m`;

        marketIndex++;
        if(marketIndex >= markets.length) {
          marketIndex = 0;
        }
      }

      setInterval(nextMarket, 60000);
    </script>
  </body>
</html>
